@using Newtonsoft.Json.Linq
@using SE344.ViewModels.Stock
@{
    ViewData["Title"] = "Hodepodge site of the Internet";
    var stocks = (IEnumerable<Stock>) ViewData["Stocks"];
    var feed = (JArray)ViewData["Feed"];
}

<div class="row">
    <div class="col-sm-4">
        @foreach (var stock in stocks.Take(5))
        {
            <div class="panel panel-default">
                <div class="panel-heading">
                    @stock.Identifier.ToUpper()
                </div>
                <div class="panel-body">
                    <dl class="dl-horizontal">
                        <dt>Ask Price:</dt>
                        <dd>$@stock.CurrentPrice</dd>

                        <dt>Day's High:</dt>
                        <dd>$@stock.DaysHigh</dd>

                        <dt>Day's Low:</dt>
                        <dd>$@stock.DaysLow</dd>
                    </dl>
                </div>
            </div>
        }
    </div>

    <div class="col-sm-8">
        @foreach (var post in feed)
        {
            <div class="panel panel-default">
                <div class="panel-body">@Html.Raw(post["message"])</div>
                <div class="panel-footer">
                    <a href="@post["from"]["link"]">@post["from"]["name"]</a>
                    <span class="pull-right text-muted">@post["created_time"]</span>
                </div>
            </div>
        }
    </div>
</div>