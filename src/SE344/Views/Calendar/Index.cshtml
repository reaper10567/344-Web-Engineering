@using SE344.ViewModels.Calendar
@model SE344.ViewModels.Calendar.EventViewModel[]
@{
        ViewData["Title"] = "Calendar";
        List<CalendarEvent> events = ViewData["Events"] as List<CalendarEvent>;
    
}



<div id="modalDialog" class="modalDialog">
    <div>
        <a href="#close" title="Close" class="close">X</a>
        
        
      
        <form asp-controller="Calendar" asp-action="Thing" method="post" role="form">
                    <label for="Event">Event Name:</label>
                    <input id="eventName" type="text" name="Event Name" value="" />
                    <label for="StartTime">Start DateTime:</label>
                    <input type="datetime" id="StartDateTime" name="StartDateTime" value="" />
                    <label for="EndTime">End DateTime:</label>
                    <input type="datetime" id="EndDateTime" name="EndDateTime" value="" />
                    <label for="allDay">All Day</label><input type="checkbox" id="allDay" name="allDay" value="" onclick="check();"/> 
                <script>
                    function check()
                    {
                        document.getElementById('StartDateTime').disabled = document.getElementById('allDay').checked;
                        document.getElementById('EndDateTime').disabled = document.getElementById('allDay').checked;
                    }
                </script>
                    <label for="EventDescription">Event Description:</label>
                    <input type="text" name="EventDescription" value="" size="300"/>
                    <label>&nbsp;</label>
                    <input type="submit" value="Submit" class="submit" />
            <script>
                function addEvent(event) {
                    

                }
            </script>
        </form>
    </div>
</div>

<div class="row">
    <div class="col-xs-12">
        <a href="#modalDialog" class="button">Create New Event</a>
    </div>
</div>
<div class="row">
    <div class="col-xs-12">
        <div id="calendarView"></div>
    </div>
</div>

<style type="text/css">
    .modalDialog {
   position: fixed;
   font-family: Arial, Helvetica, sans-serif;
   top: 0;
   right: 0;
   bottom: 0;
   left: 0;
   background: rgba(0, 0, 0, 0.8);
   z-index: 99999;
   opacity:0;
   -webkit-transition: opacity 400ms ease-in;
   -moz-transition: opacity 400ms ease-in;
   transition: opacity 400ms ease-in;
   pointer-events: none;
}
.modalDialog:target {
   opacity:1;
   pointer-events: auto;
}
.modalDialog > div {
   width: 400px;
   position: relative;
   margin: 10% auto;
   padding: 5px 20px 13px 20px;
   border-radius: 10px;
   background: #fff;
   background: -moz-linear-gradient(#fff, #999);
   background: -webkit-linear-gradient(#fff, #999);
   background: -o-linear-gradient(#fff, #999);
}
.close {
   background: #606061
;
   color: #FFFFFF
;
   line-height: 25px;
   position: absolute;
   right: -12px;
   text-align: center;
   top: -10px;
   width: 24px;
   text-decoration: none;
   font-weight: bold;
   -webkit-border-radius: 12px;
   -moz-border-radius: 12px;
   border-radius: 12px;
   -moz-box-shadow: 1px 1px 3px #000;
   -webkit-box-shadow: 1px 1px 3px #000;
   box-shadow: 1px 1px 3px #000;
}
.close:hover {
   background: #00d9ff
;
} 
</style>


@section Stylesheets {
    @{ await Html.RenderPartialAsync("_CalendarStylesheetsPartial"); }
}

@section Scripts {
    @{ await Html.RenderPartialAsync("_CalendarScriptsPartial"); }

    <script type="text/javascript">
        (function($) {
            $(document).ready(function() {
                $('#calendarView').fullCalendar({

                });
                var myModel = [];

                for (var i = 0; i < myModel.length ; i++) {
                    console.log("contents of myModel[" + i + "]: " + myModel[i]);
                    $('calendarView').fullCalendar('renderEvent', myModel[i]);

                }
            });
        })(jQuery);

       
    </script>
}

